(this["webpackJsonpweather-app-react"]=this["webpackJsonpweather-app-react"]||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(6),s=c.n(i),o=(c(13),c(2)),r=(c(14),c(0)),l=function(e){var t=Object(a.useState)(""),c=Object(o.a)(t,2),n=c[0],i=c[1],s=function(t){t.preventDefault(),e.onSubmit(n)};return Object(r.jsx)("form",{onSubmit:s,children:Object(r.jsx)("input",{type:"text",placeholder:e.city,value:n,onChange:function(e){i(e.target.value)},onSubmit:s})})},d=c(4),u=c.n(d),j=c(7),b=c(8),p=c.n(b),m=(c(5),function(e){var t="./assets/".concat(e.icon,".svg"),c=p()(1e3*e.date).format("DD.MM");return Object(r.jsxs)("div",{className:"forecast-item",children:[Object(r.jsx)("p",{className:"forecast-item-date",children:c}),Object(r.jsx)("img",{className:"icon",alt:"icon",src:t}),Object(r.jsx)("p",{className:"forecast-item-description",children:e.description}),Object(r.jsxs)("div",{className:"forecast-item-content",children:[Math.round(e.temp),"\xb0"]})]})}),f=function(e){var t=Object(a.useState)(null),c=Object(o.a)(t,2),n=c[0],i=c[1],s=Object(a.useState)(!1),l=Object(o.a)(s,2),d=l[0],b=l[1],p=Object(a.useState)(null),f=Object(o.a)(p,2),h=f[0],O=f[1],y=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){b(!0),O(e)}),(function(e){i(e),b(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e.lat,"&lon=").concat(e.lon,"&exclude=hourly,minutely&units=metric&appid=78839745a89023129881747e0b14fefd");return Object(a.useEffect)((function(){void 0!==e.lat&&void 0!==e.lon&&y(x)}),[x,e.lat,e.lon]),n?Object(r.jsxs)("h1",{className:"message",children:["Error: ",n.message]}):d?h?Object(r.jsxs)("div",{className:"forecast-list",children:[Object(r.jsx)(m,{date:h.daily[0].dt,description:h.daily[0].weather[0].description,temp:h.daily[0].temp.day,icon:h.daily[0].weather[0].icon}),Object(r.jsx)(m,{date:h.daily[1].dt,description:h.daily[1].weather[0].description,temp:h.daily[1].temp.day,icon:h.daily[1].weather[0].icon}),Object(r.jsx)(m,{date:h.daily[2].dt,description:h.daily[2].weather[0].description,temp:h.daily[2].temp.day,icon:h.daily[2].weather[0].icon})]}):Object(r.jsx)("div",{}):Object(r.jsx)("div",{className:"message",children:"Loading..."})};var h=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)(!1),s=Object(o.a)(i,2),d=s[0],u=s[1],j=Object(a.useState)([]),b=Object(o.a)(j,2),p=b[0],m=b[1],h=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){u(!0),m(e),e.longitude&&e.latitude?(N(e.longitude),g(e.latitude)):e[0].lat&&e[0].lon&&(N(e[0].lon),g(e[0].lat))}),(function(e){n(e),u(!0)}))};Object(a.useEffect)((function(){h("https://ipgeolocation.abstractapi.com/v1/?api_key=0114551861ca4ad5b222750b725754a6")}),[]);var O=Object(a.useState)(p.latitude),y=Object(o.a)(O,2),x=y[0],g=y[1],v=Object(a.useState)(p.longitude),w=Object(o.a)(v,2),S=w[0],N=w[1];return void 0!==p.city&&console.log(p.longitude,p.longitude,p.city),c?Object(r.jsxs)("h1",{className:"message",children:["Error: ",c.message]}):d?Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(l,{city:p.city,onSubmit:function(e){console.log(e),h("https://api.openweathermap.org/geo/1.0/direct?q=".concat(e,"&limit=5&appid=78839745a89023129881747e0b14fefd"))}}),Object(r.jsx)(f,{lat:x,lon:S})]}):Object(r.jsx)("h1",{className:"message",children:"Loading..."})};s.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(h,{})}),document.getElementById("root"))},5:function(e,t,c){}},[[18,1,2]]]);
//# sourceMappingURL=main.001ea444.chunk.js.map